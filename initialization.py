# Initializing Graph
import math

def dist(i, j, coor_dict):
    distance = math.sqrt(((coor_dict[i][0] - coor_dict[j][0]) ** 2) + ((coor_dict[i][1] - coor_dict[j][1]) ** 2))
    
    return distance

graph = {
    1: {11},
    2: {12},
    3: {13},
    4: {14},
    5: {15},
    6: {16},
    7: {17},
    8: {18},
    9: {78, 79},
    10: {11},
    11: {1, 10, 12, 20},
    12: {2, 11, 13},
    13: {3, 12, 37},
    14: {4, 37, 15},
    15: {5, 14, 33, 36},
    16: {6, 24, 33, 34},
    17: {7, 18, 26, 34},
    18: {8, 17, 32, 79},
    19: {20},
    20: {11, 19, 39},
    21: {35, 40},
    22: {36, 42},
    23: {33},
    24: {16},
    25: {34},
    26: {17},
    27: {44},
    28: {45},
    29: {46},
    30: {47},
    31: {32},
    32: {18, 31, 47},
    33: {15, 16, 23},
    34: {16, 17, 25},
    35: {21, 37, 41},
    36: {22, 15, 43},
    37: {13, 14, 35},
    38: {39},
    39: {20, 40, 49, 38},
    40: {21, 39, 41},
    41: {35, 40, 42, 51},
    42: {22, 41, 43, 61},
    43: {36, 42, 44},
    44: {27, 43, 52, 45},
    45: {28, 44, 46},
    46: {29, 45, 47},
    47: {30, 32, 46, 53, 54, 65, 66},
    48: {49},
    49: {39, 48, 50, 56},
    50: {49},
    51: {41, 61},
    52: {44, 61},
    53: {47},
    54: {47},
    55: {56},
    56: {49, 55, 62, 67, 68},
    57: {62},
    58: {62, 63},
    59: {63, 64},
    60: {64, 65},
    61: {42, 51, 52, 63},
    62: {56, 57, 58, 63, 69, 70},
    63: {58, 59, 61, 62, 64, 71, 72},
    64: {59, 60, 63, 73, 65},
    65: {47, 60, 64, 66, 73, 74},
    66: {47, 65, 74, 75, 76, 77},
    67: {56, 68},
    68: {56, 67},
    69: {62},
    70: {62},
    71: {63},
    72: {63},
    73: {64},
    74: {65},
    75: {66},
    76: {66, 77},
    77: {66, 76},
    78: {9, 79},
    79: {9, 18, 78}
}


# Coordinates
coor_dict = {
    1: (45, 91),
    2: (45, 149),
    3: (45, 223),
    4: (45, 304),
    5: (45, 375),
    6: (45, 455),
    7: (45, 520),
    8: (45, 580),
    9: (85, 635),
    10: (45, 39),
    11: (97, 91),
    12: (90, 150),
    13: (90, 230),
    14: (90, 306),
    15: (90, 379),
    16: (90, 455),
    17: (90, 530),
    18: (108, 585),
    19: (148, 92),
    20: (148, 152),
    21: (150, 224),
    22: (150, 335),
    23: (125, 415),
    24: (125, 452),
    25: (125, 495),
    26: (125, 531),
    27: (180, 413),
    28: (180, 454),
    29: (180, 497),
    30: (180, 530),
    31: (190, 624),
    32: (190, 570),
    33: (90, 415),
    34: (90, 495),
    35: (150, 273),
    36: (150, 381),
    37: (90, 276),
    38: (200, 90),
    39: (210, 155),
    40: (225, 225),
    41: (225, 280),
    42: (225, 343),
    43: (225, 381),
    44: (225, 412),
    45: (225, 453),
    46: (224, 496),
    47: (285, 550),
    48: (280, 100),
    49: (285, 157),
    50: (288, 220),
    51: (285, 290),
    52: (285, 412),
    53: (260, 487),
    54: (306, 488),
    55: (360, 100),
    56: (360, 157),
    57: (350, 223),
    58: (350, 293),
    59: (350, 407),
    60: (350, 484),
    61: (285, 352),
    62: (382, 242),
    63: (384, 348),
    64: (383, 460),
    65: (382, 517),
    66: (340, 580),
    67: (438, 107),
    68: (469, 163),
    69: (410, 227),
    70: (405, 284),
    71: (419, 349),
    72: (418, 405),
    73: (420, 462),
    74: (420, 520),
    75: (420, 570),
    76: (400, 630),
    77: (324, 662),
    78: (145, 662),
    79: (145, 630)
}


# Congestion Values
congestion_dict = {1: {11: 3},
 2: {12: 2},
 3: {13: 2},
 4: {14: 2},
 5: {15: 2},
 6: {16: 2},
 7: {17: 2},
 8: {18: 3},
 9: {78: 3, 79: 3},
 10: {11: 3},
 11: {10: 3, 20: 3, 1: 3, 12: 3},
 12: {2: 2, 11: 3, 13: 1},
 13: {3: 2, 12: 1, 37: 1},
 14: {4: 2, 37: 2, 15: 2},
 15: {33: 1, 36: 2, 5: 2, 14: 2},
 16: {24: 2, 33: 1, 34: 1, 6: 2},
 17: {18: 3, 26: 2, 34: 1, 7: 2},
 18: {8: 3, 17: 3, 32: 3, 79: 3},
 19: {20: 3},
 20: {19: 3, 39: 3, 11: 3},
 21: {40: 3, 35: 3},
 22: {42: 3, 36: 3},
 23: {33: 2},
 24: {16: 2},
 25: {34: 2},
 26: {17: 2},
 27: {44: 2},
 28: {45: 2},
 29: {46: 2},
 30: {47: 3},
 31: {32: 3},
 32: {18: 3, 47: 3, 31: 3},
 33: {16: 1, 23: 2, 15: 1},
 34: {16: 1, 17: 1, 25: 2},
 35: {41: 2, 37: 2, 21: 3},
 36: {43: 2, 22: 3, 15: 2},
 37: {35: 2, 13: 1, 14: 2},
 38: {39: 3},
 39: {40: 3, 49: 3, 20: 3, 38: 3},
 40: {41: 2, 21: 3, 39: 3},
 41: {40: 2, 51: 3, 42: 2, 35: 2},
 42: {41: 2, 43: 2, 61: 2, 22: 3},
 43: {42: 2, 36: 2, 44: 2},
 44: {43: 2, 27: 2, 52: 3, 45: 2},
 45: {46: 2, 28: 2, 44: 2},
 46: {45: 2, 29: 2, 47: 3},
 47: {32: 3, 65: 3, 66: 3, 46: 3, 53: 3, 54: 3, 30: 3},
 48: {49: 3},
 49: {48: 3, 50: 3, 56: 3, 39: 3},
 50: {49: 3},
 51: {41: 3, 61: 3},
 52: {44: 3, 61: 3},
 53: {47: 3},
 54: {47: 3},
 55: {56: 3},
 56: {67: 3, 68: 3, 49: 3, 55: 3, 62: 2},
 57: {62: 3},
 58: {62: 3, 63: 3},
 59: {64: 3, 63: 3},
 60: {64: 3, 65: 3},
 61: {42: 2, 51: 3, 52: 3, 63: 2},
 62: {69: 2, 70: 2, 56: 2, 57: 3, 58: 3, 63: 1},
 63: {64: 1, 71: 2, 72: 2, 58: 3, 59: 3, 61: 2, 62: 1},
 64: {65: 3, 73: 2, 59: 3, 60: 3, 63: 1},
 65: {64: 3, 66: 3, 73: 3, 74: 3, 47: 3, 60: 3},
 66: {65: 3, 74: 3, 75: 3, 76: 3, 77: 3, 47: 3},
 67: {56: 3, 68: 3},
 68: {56: 3, 67: 3},
 69: {62: 2},
 70: {62: 2},
 71: {63: 2},
 72: {63: 2},
 73: {64: 2},
 74: {65: 3},
 75: {66: 3},
 76: {66: 3, 77: 3},
 77: {66: 3, 76: 3},
 78: {9: 3, 79: 2},
 79: {9: 3, 18: 3, 78: 2}}

exit_nodes = {68, 77, 78}


all_nodes = set()
for i in graph.keys():
    all_nodes.add(i)
    

congestion_capacity = {}
for i in range(1, 80):
    qwe = {}
    for j in graph[i]:
        cap = dist(i, j, coor_dict) * congestion_dict[i][j] * 40
        qwe.update({j: cap/1000})
    congestion_capacity.update({i: qwe})

